{"version":3,"sources":["shared/hooks/http-hook.jsx","../node_modules/react-bootstrap/esm/Container.js","user/Profile/components/AddJob.jsx"],"names":["useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequest","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortControl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortctrl","abort","Container","React","forwardRef","_ref","ref","bsPrefix","fluid","_ref$as","as","Component","className","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","suffix","createElement","_extends","classNames","displayName","defaultProps","options","key","text","value","AddJob","history","useHistory","auth","useContext","AuthContext","title","setTitle","address","setAddress","price","setPrice","description","setDescription","handleSubmit","process","JSON","stringify","creator","userId","Authorization","token","console","log","Field","id","control","Dropdown","onChange","e","data","search","selection","label","placeholder","Group","widths","Input","event","target","TextArea","Button","onClick","content","style","background","asOverlay"],"mappings":"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","file":"static/js/13.57744df1.chunk.js","sourcesContent":["import  { useState, useCallback, useRef,useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n    const[isLoading,setIsLoading] = useState(false);\r\n    const[error,setError] = useState();\r\n\r\n    const activeHttpRequest = useRef([]);\r\n\r\n    const sendRequest = useCallback( async (url, method='GET',body= null , headers={}) => {\r\n        setIsLoading(true);\r\n        const httpAbortControl = new AbortController();\r\n        activeHttpRequest.current.push(httpAbortControl);\r\n\r\n        try{\r\n            const response = await fetch(url,{\r\n                method,\r\n                body,\r\n                headers,\r\n                signal: httpAbortControl.signal\r\n            });\r\n    \r\n            const responseData = await response.json();\r\n\r\n            activeHttpRequest.current = activeHttpRequest.current.filter(reqCtrl => reqCtrl !== httpAbortControl); \r\n    \r\n            if(!response.ok){\r\n                throw new Error(responseData.message);\r\n            }\r\n\r\n            setIsLoading(false);\r\n            return responseData;\r\n\r\n      }catch(err){\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n      \r\n    },[]);\r\n\r\n    //never continue with a request that have been triggered from a components and the component was changed before the requset completed\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequest.current.forEach(abortctrl => abortctrl.abort());\r\n        };\r\n    },[]);\r\n    return {isLoading, error, sendRequest};\r\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  fluid: false\n};\nvar Container = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'container');\n  var suffix = typeof fluid === 'string' ? \"-\" + fluid : '-fluid';\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, fluid ? \"\" + prefix + suffix : prefix)\n  }));\n});\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nexport default Container;","\r\nimport React, { useState , useContext } from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Form, Input, TextArea, Button, Dropdown } from 'semantic-ui-react';\r\nimport  {useHttpClient} from '../../../shared/hooks/http-hook'; \r\nimport { AuthContext } from '../../../shared/context/auth-context';\r\nimport LoadingSpinner from '../../../shared/UIElements/LoadingSpinner';\r\n\r\nconst options = [\r\n    { key: 'Floors fix', text: 'Floors', value: 'Floors' },\r\n    { key: 'Indoor  fix', text: 'Indoor Walls', value: 'Indoor Walls' },\r\n    { key: 'Outdoor fix', text: 'Outdoor Walls', value: 'Outdoor Walls' },\r\n    { key: 'Elctrical fix', text: 'Elctrical', value: 'Elctrical' },\r\n    { key: 'Roof fix', text: 'Roof', value: 'Roof' },\r\n    { key: 'Garden', text: 'Garden', value: 'Garden' },\r\n    { key: 'Carbets', text: 'Carbets', value: 'Carbets' },\r\n    { key: 'Doors', text: 'Doors', value: 'Doors' },\r\n    { key: 'Windows', text: 'Windows', value: 'Windows' },\r\n    { key: 'Lights', text: 'Lights', value: 'Lights' },\r\n    { key: 'Futniture', text: 'Futniture', value: 'Futniture' },\r\n    { key: 'Bathrooms fix', text: 'Bathrooms', value: 'Bathrooms' },\r\n    { key: 'Aircondition fix', text: 'Aircondition fix', value: 'Aircondition fix' },\r\n    { key: 'Tv Cabel fix', text: 'Tv Cabel fix', value: 'Tv Cabel fix' },\r\n  ];\r\n  \r\n\r\nconst AddJob = () => {\r\n    const history = useHistory();\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading , sendRequest} = useHttpClient();\r\n    const [title,setTitle] = useState();\r\n    const [address,setAddress] = useState();\r\n    const [price,setPrice] = useState();\r\n    const [description,setDescription] = useState();\r\n\r\n    const handleTitle = (e, data)  =>{\r\n        setTitle(data.value);\r\n    };\r\n    const handleDescription = event =>{\r\n        setDescription(event.target.value);\r\n    };\r\n    const handlePrice = event =>{\r\n        setPrice(event.target.value);\r\n    };\r\n    const handleAddress = event =>{\r\n        setAddress(event.target.value);\r\n    };\r\n\r\n    const handleSubmit = async () =>{\r\n        try{\r\n         \r\n            await sendRequest(   process.env.REACT_APP_BACKEND_URL + '/jobs' , 'POST' ,  JSON.stringify({\r\n                title:title,\r\n                description:description,\r\n                price:price,\r\n                address:address,\r\n                creator:auth.userId\r\n            }),\r\n            {'Content-Type':'application/json' , Authorization: 'Bearer ' + auth.token}\r\n            );\r\n\r\n            console.log('added:' + title + ' - ' + description + ' - ' + price + ' - ' + address + ' - ' + auth.userId);\r\n            history.push(`/${auth.userId}/profile`);\r\n\r\n        }catch(err){ console.log(err.message);}\r\n    };\r\n\r\n    return (   \r\n        <main>\r\n       \r\n            <Container className=\"form-container text-center\">\r\n                           \r\n      \r\n                <Form>\r\n                <Form.Field\r\n                        id='form-input-control-Address'\r\n                        control={Dropdown}\r\n                        onChange={handleTitle}\r\n                        fluid\r\n                        search\r\n                        selection\r\n                        options={options}\r\n                        label='Title'\r\n                        placeholder='Select one skill'\r\n                    />\r\n                    <Form.Group widths='equal'>\r\n           \r\n               \r\n                    <Form.Field\r\n                        id='form-input-control-Address'\r\n                        control={Input}\r\n                        onChange={handleAddress}\r\n                        label='Address'\r\n                        placeholder='Address'\r\n                    />\r\n                    <Form.Field\r\n                    id='form-input-control-error-price'\r\n                    control={Input}\r\n                    onChange={handlePrice}\r\n                    label='Price per day'\r\n                    placeholder='100 shekels/dollars for example'\r\n                    />\r\n                    </Form.Group>\r\n      \r\n   \r\n                    <Form.Field\r\n                    id='form-textarea-control-Descrption'\r\n                    control={TextArea}\r\n                    onChange={handleDescription}\r\n                    label='Descrption'\r\n                    placeholder='Descrption'\r\n                    />\r\n \r\n                    <Form.Field\r\n                    id='form-button-control-public'\r\n                    control={Button}\r\n                    onClick={handleSubmit}\r\n                    content='Confirm'\r\n                    style={{background:'orange' }}\r\n                    />\r\n                    {isLoading && <LoadingSpinner asOverlay/>}\r\n                </Form> \r\n        </Container>\r\n    </main>\r\n      );\r\n}\r\n \r\nexport default AddJob;"],"sourceRoot":""}